## API Report File for "@formidable-webview/webshell"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import type { ComponentPropsWithoutRef } from 'react';
import type { ComponentType } from 'react';
import type { ElementRef } from 'react';
import type { ForwardRefExoticComponent } from 'react';
import * as React_2 from 'react';
import type { RefAttributes } from 'react';

// @public
export interface AutoheightParams<S extends WebshellProps<MinimalWebViewProps, Feature<any, any>[]>> {
    initialHeight?: number;
    reinitHeightOnViewportWidthChange?: boolean;
    webshellProps: S;
    width?: number;
}

// @public
export interface AutoheightState<S extends WebshellProps<MinimalWebViewProps, [FeatureInstanceOf<typeof HandleHTMLDimensionsFeature>]>> {
    autoheightWebshellProps: Pick<S, 'webshellDebug' | 'onDOMHTMLDimensions' | 'style' | 'scalesPageToFit' | 'showsVerticalScrollIndicator' | 'disableScrollViewPanResponder'> & Partial<S>;
    contentSize: Partial<RectSize>;
    resizeImplementation: HTMLDimensionsImplementation | null;
    syncState: AutoheightSyncState;
}

// @public
export type AutoheightSyncState = 'init' | 'syncing' | 'synced';

// @public (undocumented)
export interface CSSBox {
    // (undocumented)
    height: number;
    // (undocumented)
    width: number;
}

// @public
export interface CSSBoxDimensionsComputedStyle {
    // (undocumented)
    borderBottomWidth: number;
    // (undocumented)
    borderLeftWidth: number;
    // (undocumented)
    borderRightWidth: number;
    // (undocumented)
    borderTopWidth: number;
    // (undocumented)
    marginBottom: number;
    // (undocumented)
    marginLeft: number;
    // (undocumented)
    marginRight: number;
    // (undocumented)
    marginTop: number;
    // (undocumented)
    paddingBottom: number;
    // (undocumented)
    paddingLeft: number;
    // (undocumented)
    paddingRight: number;
    // (undocumented)
    paddingTop: number;
}

// @public
export type DOMCollectionRequest = DOMElementQueryRequest | DOMElementClassNameRequest | DOMElementTagNameRequest | string;

// @public
export type DOMElementClassNameRequest = {
    className: string;
};

// @public
export type DOMElementIdRequest = {
    id: string;
};

// @public
export type DOMElementQueryRequest = {
    query: string;
};

// @public
export type DOMElementRequest = DOMElementQueryRequest | DOMElementClassNameRequest | DOMElementIdRequest | DOMElementTagNameRequest | string;

// @public
export type DOMElementTagNameRequest = {
    tagName: string;
};

// @public
export interface DOMRect {
    // (undocumented)
    bottom: number;
    // (undocumented)
    height: number;
    // (undocumented)
    left: number;
    // (undocumented)
    right: number;
    // (undocumented)
    top: number;
    // (undocumented)
    width: number;
}

// @public
export interface ElementCSSBoxDimensions {
    borderBox: CSSBox;
    computedStyle: CSSBoxDimensionsComputedStyle;
    horizontalScrollbarWidth: number;
    scrollBox: CSSBox;
    verticalScrollbarWidth: number;
}

// @public
export type EventHandlerProps<H extends string, P> = {
    [k in H]?: (e: P) => void;
};

// @public
export abstract class Feature<O extends {}, S extends PropsSpecs<any> = []> implements FeatureBase<O> {
    constructor(params: FeatureBase<O> & {
        propSpecs: S;
    }, options: O);
    // (undocumented)
    readonly defaultOptions: O;
    // (undocumented)
    readonly featureIdentifier: string;
    // (undocumented)
    readonly options: O;
    // (undocumented)
    readonly propSpecs: S;
    // Warning: (ae-unresolved-inheritdoc-reference) The @inheritDoc reference could not be resolved: The package "@formidable-webview/webshell" does not have an export "FeatureDefinition"
    //
    // (undocumented)
    readonly script: string;
}

// @public
export type FeatureBase<O extends {}> = {
    readonly script: string;
    readonly featureIdentifier: string;
    readonly defaultOptions: O;
};

// @public
export class FeatureBuilder<O extends {}, S extends PropsSpecs<any> = []> {
    constructor(config: FeatureBuilderConfig<O, S>);
    build(): FeatureConstructor<O, S>;
    withEventHandlerProp<P, H extends string>(eventHandlerName: H): FeatureBuilder<O, S[number] extends never ? [PropDefinition<{ [k in H]?: ((p: P) => void) | undefined; }>] : [PropDefinition<{ [k_1 in H]?: ((p: P) => void) | undefined; }>, ...S[number][]]>;
}

// @public
export interface FeatureBuilderConfig<O extends {}, S extends PropsSpecs<any> = []> extends FeatureBase<O> {
    // @internal (undocumented)
    __propSpecs?: S;
    className?: string;
}

// @public
export interface FeatureConstructor<O extends {}, S extends PropsSpecs<any> = []> {
    // (undocumented)
    new (...args: O extends Partial<O> ? [] | [O] : [O]): Feature<O, S>;
    // (undocumented)
    identifier: string;
    // (undocumented)
    name: string;
}

// @public
export type FeatureInstanceOf<F> = F extends FeatureConstructor<infer O, infer S> ? Feature<O, S> : never;

// @public
export const ForceElementSizeFeature: FeatureConstructor<ForceElementSizeOptions>;

// @public
export interface ForceElementSizeOptions {
    forceHeight?: boolean;
    forceWidth?: boolean;
    heightValue?: number | string;
    shouldThrowWhenNotFound?: boolean;
    target: DOMElementRequest;
    widthValue?: number | string;
}

// @public
export const ForceResponsiveViewportFeature: FeatureConstructor<ForceResponsiveViewportOptions>;

// @public
export interface ForceResponsiveViewportOptions {
    maxScale?: number;
}

// @public
export interface HandleElementCSSBoxDimensionsOptions {
    shouldThrowWhenNotFound?: boolean;
    target: DOMElementRequest;
}

// @public
export const HandleElementCSSBoxFeature: FeatureConstructor<HandleElementCSSBoxDimensionsOptions, [PropDefinition<{
    onDOMElementCSSBoxDimensions?: (e: ElementCSSBoxDimensions) => void;
}>]>;

// @public
export const HandleHashChangeFeature: FeatureConstructor<HandleHashChangeOptions, [PropDefinition<{
    onDOMHashChange?: (e: HashChangeEvent) => void;
}>]>;

// @public
export interface HandleHashChangeOptions {
    shouldResetHashOnEvent?: boolean;
}

// @public
export const HandleHTMLDimensionsFeature: FeatureConstructor<HandleHTMLDimensionsOptions, [PropDefinition<{
    onDOMHTMLDimensions?: (d: HTMLDimensions) => void;
}>]>;

// @public
export interface HandleHTMLDimensionsOptions {
    deltaMin?: number;
    forceImplementation?: HTMLDimensionsImplementation | false;
    pollingInterval?: number;
}

// @public
export const HandleLinkPressFeature: FeatureConstructor<LinkPressOptions, [PropDefinition<{
    onDOMLinkPress?: (t: LinkPressTarget) => void;
}>]>;

// @beta
export const HandleVisualViewportFeature: FeatureConstructor<{}, [PropDefinition<{
    onDOMVisualViewport?: (d: VisualViewportDimensions) => void;
}>]>;

// @public
export interface HashChangeEvent {
    hash: string;
    targetElementBoundingRect: DOMRect;
}

// @public
export interface HTMLDimensions {
    content: RectSize;
    implementation: HTMLDimensionsImplementation;
    layoutViewport: RectSize;
}

// @public
export type HTMLDimensionsImplementation = 'resize' | 'mutation' | 'polling';

// @public
export interface LinkPressOptions {
    ignoreHashChange?: boolean;
    preventDefault?: boolean;
}

// @public
export interface LinkPressTarget {
    clickedAnchorBoundingRect: DOMRect;
    hrefAttribute: string;
    page: {
        origin: string | null;
        href: string;
    };
    scheme: string;
    uri: string;
}

// @public
function makeWebshell<C extends ComponentType<any>, F extends Feature<any, any>[]>(WebView: C, ...features: F): React_2.ForwardRefExoticComponent<WebshellProps<React_2.ComponentPropsWithoutRef<C>, F> & React_2.RefAttributes<ElementRef<C>>>;

export default makeWebshell;

export { makeWebshell }

// @public
export interface MinimalWebViewProps {
    // (undocumented)
    readonly disableScrollViewPanResponder?: unknown;
    // (undocumented)
    readonly injectedJavaScript?: unknown;
    // (undocumented)
    readonly javaScriptEnabled?: unknown;
    // (undocumented)
    readonly onError?: unknown;
    // (undocumented)
    readonly onMessage?: unknown;
    // (undocumented)
    readonly onNavigationStateChange?: unknown;
    // (undocumented)
    readonly scalesPageToFit?: unknown;
    // (undocumented)
    readonly showsVerticalScrollIndicator?: unknown;
    // (undocumented)
    readonly source?: Record<string, any>;
    // (undocumented)
    readonly style?: unknown;
}

// @public (undocumented)
export type PropDefinition<P extends Partial<Record<string, any>>> = {
    type: 'handler' | 'inert';
    featureIdentifier: string;
    name: string;
    signature?: P;
};

// @public
export type PropsFromFeature<F> = F extends Feature<any, infer S> ? PropsFromSpecs<S> : never;

// @public (undocumented)
export type PropsFromSpecs<S> = S extends PropsSpecs<any> ? S[number]['signature'] : never;

// @public (undocumented)
export type PropsSpecs<P = {}> = PropDefinition<P>[];

// @public (undocumented)
export interface RectSize {
    // (undocumented)
    height: number;
    // (undocumented)
    width: number;
}

// @beta
export function useAutoheight<S extends WebshellProps<MinimalWebViewProps, [FeatureInstanceOf<typeof HandleHTMLDimensionsFeature>]>>(params: AutoheightParams<S>): AutoheightState<S>;

// @public
export interface VisualViewportDimensions {
    isLegacy: boolean;
    scale: number;
    visualViewport: RectSize;
}

// @public
export interface WebjsContext<O extends {}, P> {
    error(message: string): void;
    getDOMSelection(selector: DOMElementRequest, multiple: false): HTMLElement | null;
    getDOMSelection(selector: DOMElementQueryRequest | string, multiple: true): any;
    getDOMSelection(selector: DOMElementClassNameRequest | DOMElementTagNameRequest, multiple: true): any;
    makeCallbackSafe<T extends Function>(callback: T): T;
    // (undocumented)
    numericFromPxString(style: string): number;
    readonly options: O;
    postMessage(payload: P): void;
    warn(message: string): void;
}

// @public
export type WebshellComponent<C extends ComponentType<any>, F extends Feature<any, any>[]> = ForwardRefExoticComponent<WebshellProps<ComponentPropsWithoutRef<C>, F> & RefAttributes<ElementRef<C>>>;

// @public
export type WebshellComponentOf<C extends ComponentType<any>, F extends FeatureConstructor<any, any>[]> = WebshellComponent<C, FeatureInstanceOf<F[number]>[]>;

// @public
export interface WebshellInvariantProps {
    onDOMError?: (featureIdentifier: string, error: string) => void;
    webshellDebug?: boolean;
}

// @public
export type WebshellProps<W extends MinimalWebViewProps, F extends Feature<any, any>[]> = WebshellInvariantProps & W & (F[number] extends never ? {} : PropsFromFeature<F[number]>);


// (No @packageDocumentation comment for this package)

```
