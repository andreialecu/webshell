## API Report File for "@formidable-webview/webshell"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { Animated } from 'react-native';
import { ComponentPropsWithoutRef } from 'react';
import { ComponentType } from 'react';
import { DOMElementRequest as DOMElementRequest_2 } from 'src/types';
import { ElementRef } from 'react';
import { Feature as Feature_2 } from 'src/types';
import { ForwardRefExoticComponent } from 'react';
import * as React_2 from 'react';
import { RefAttributes } from 'react';
import { StyleProp } from 'react-native';
import { ViewStyle } from 'react-native';

// @public
export type AssembledEventFeature<O = {}, S = EventHandlerDefinition<string, any>, P = {}> = S extends EventHandlerDefinition<infer H, infer Payload> ? AssembledFeature<O, S, EventHandlerProps<H, Payload> & P> : never;

// @public
export type AssembledFeature<O extends {} = {}, S extends {} = {}, P extends {} = {}> = {
    readonly featureIdentifier: string;
    readonly script: string;
    readonly options: OptionalUnlessRequiredField<O>;
    readonly props?: P;
} & S;

// @public
export type AssembledFeatureOf<F> = F extends Feature<infer O, infer S, infer P> ? AssembledFeature<O, S, P> : never;

// @public
export interface AutoheightParams<S extends WebshellProps<MinimalWebViewProps, []>> {
    animated?: boolean;
    initialHeight?: number;
    onContentSizeChange?: (contentSize: ContentSize) => void;
    webshellProps: S;
    width?: number;
}

// @public (undocumented)
export interface ContentSize {
    // (undocumented)
    height: number | undefined;
    // (undocumented)
    width: number | undefined;
}

// @public (undocumented)
export interface CSSBox {
    // (undocumented)
    height: number;
    // (undocumented)
    width: number;
}

// @public
export interface CSSBoxDimensionsComputedStyle {
    // (undocumented)
    borderBottomWidth: number;
    // (undocumented)
    borderLeftWidth: number;
    // (undocumented)
    borderRightWidth: number;
    // (undocumented)
    borderTopWidth: number;
    // (undocumented)
    marginBottom: number;
    // (undocumented)
    marginLeft: number;
    // (undocumented)
    marginRight: number;
    // (undocumented)
    marginTop: number;
    // (undocumented)
    paddingBottom: number;
    // (undocumented)
    paddingLeft: number;
    // (undocumented)
    paddingRight: number;
    // (undocumented)
    paddingTop: number;
}

// @public
export interface ElementCSSBoxDimensions {
    borderBox: CSSBox;
    computedStyle: CSSBoxDimensionsComputedStyle;
    horizontalScrollbarWidth: number;
    scrollBox: CSSBox;
    verticalScrollbarWidth: number;
}

// @public
export type EventFeature<O extends {}, S, P = {}> = S extends EventHandlerDefinition<infer Event, infer Payload> ? Feature<O, S, EventHandlerProps<Event, Payload> & P> : never;

// @public
export type EventFeatureOf<O extends {}, H extends string, Payload, OtherProps = {}> = EventFeature<O, EventHandlerDefinition<H, Payload>, EventHandlerProps<H, Payload> & OtherProps>;

// @public
export interface EventHandlerDefinition<H extends string, P> {
    readonly eventHandlerName: H;
    readonly payloadType?: P;
}

// @public
export type EventHandlerProps<H extends string, P> = {
    [k in H]?: (e: P) => void;
};

// @public
export type EventNameOf<T> = T extends AssembledEventFeature<{}, infer S, {}> ? S extends EventHandlerDefinition<infer H, unknown> ? H : never : never;

// @public
export type Feature<O extends {}, S extends {} = {}, P extends {} = {}> = {
    readonly script: string;
    readonly featureIdentifier: string;
    readonly assemble: (...args: O extends Partial<O> ? [] | [O] : [O]) => AssembledFeature<O, S, P>;
} & S;

// @public
export const forceElementSizeFeature: {
    readonly script: string;
    readonly featureIdentifier: string;
    readonly assemble: (...args: [] | [ForceElementSizeOptions]) => {
        readonly featureIdentifier: string;
        readonly script: string;
        readonly options: ForceElementSizeOptions | undefined;
        readonly props?: {} | undefined;
    };
};

// @public
export interface ForceElementSizeOptions {
    forceHeight?: boolean;
    forceWidth?: boolean;
    heightValue?: number | string;
    shouldThrowWhenNotFound?: boolean;
    target: DOMElementRequest_2;
    widthValue?: number | string;
}

// @public
export const forceResponsiveViewportFeature: Feature_2<ForceResponsiveViewportOptions>;

// @public
export interface ForceResponsiveViewportOptions {
    maxScale?: number;
}

// @public
export interface HandleElementCSSBoxDimensionsOptions {
    shouldThrowWhenNotFound?: boolean;
    // Warning: (ae-forgotten-export) The symbol "DOMElementRequest" needs to be exported by the entry point index.d.ts
    target: DOMElementRequest;
}

// @public
export const handleElementCSSBoxFeature: EventFeatureOf<HandleElementCSSBoxDimensionsOptions, 'onDOMElementCSSBoxDimensions', ElementCSSBoxDimensions>;

// @public
export const handleHashChangeFeature: EventFeatureOf<HandleHashChangeOptions, 'onDOMHashChange', HashChangeEvent>;

// @public
export interface HandleHashChangeOptions {
    shouldResetHashOnEvent?: boolean;
}

// @public
export const handleHTMLDimensionsFeature: EventFeatureOf<HandleHTMLDimensionsOptions, 'onDOMHTMLDimensions', HTMLDimensions>;

// @public (undocumented)
export interface HandleHTMLDimensionsOptions {
    forceImplementation?: HTMLDimensionsImplementation | false;
    pollingInterval?: number;
}

// @public
export const handleLinkPressFeature: EventFeatureOf<LinkPressOptions, 'onDOMLinkPress', LinkPressTarget>;

// @beta
export const handleVisualViewportFeature: EventFeatureOf<{}, 'onDOMVisualViewport', VisualViewportDimensions>;

// @public
export interface HashChangeEvent {
    hash: string;
    // Warning: (ae-forgotten-export) The symbol "DOMRect" needs to be exported by the entry point index.d.ts
    targetElementBoundingRect: DOMRect;
}

// @public
export interface HTMLDimensions {
    content: Dimensions;
    implementation: HTMLDimensionsImplementation;
    // Warning: (ae-forgotten-export) The symbol "Dimensions" needs to be exported by the entry point index.d.ts
    layoutViewport: Dimensions;
}

// @public
export type HTMLDimensionsImplementation = 'resize' | 'mutation' | 'polling';

// @public
export interface LinkPressOptions {
    ignoreHashChange?: boolean;
    preventDefault?: boolean;
}

// @public
export interface LinkPressTarget {
    clickedAnchorBoundingRect: DOMRect;
    hrefAttribute: string;
    page: {
        origin: string | null;
        href: string;
    };
    scheme: string;
    uri: string;
}

// @public
export function makeFeature<O extends {}, S extends {} = {}, P extends {} = {}>(params: Pick<Feature<O, S, P>, keyof S | 'script' | 'featureIdentifier'>): Feature<O, S, P>;

// @public
function makeWebshell<C extends ComponentType<any>, F extends AssembledFeature[]>(WebView: C, ...assembledFeatures: F): React_2.ForwardRefExoticComponent<WebshellProps<React_2.ComponentPropsWithoutRef<C>, F> & React_2.RefAttributes<ElementRef<C>>>;

export default makeWebshell;

export { makeWebshell }

// @public
export interface MinimalWebViewProps {
    // (undocumented)
    readonly injectedJavaScript?: unknown;
    // (undocumented)
    readonly javaScriptEnabled?: unknown;
    // (undocumented)
    readonly onError?: unknown;
    // (undocumented)
    readonly onMessage?: unknown;
    // (undocumented)
    readonly onNavigationStateChange?: unknown;
    // (undocumented)
    readonly scalesPageToFit?: unknown;
    // (undocumented)
    readonly source?: Record<string, any>;
    // (undocumented)
    readonly style?: unknown;
}

// @public
export type OptionalUnlessRequiredField<O> = O extends Partial<O> ? O | undefined : O;

// @public
export type PayloadOf<T> = T extends AssembledEventFeature<{}, string, infer P> ? P : never;

// @beta
export function useAutoheight<S extends WebshellProps<MinimalWebViewProps, [AssembledFeatureOf<typeof handleHTMLDimensionsFeature>]>>(params: AutoheightParams<S>): Pick<S, Exclude<keyof S, "style" | "webshellDebug" | "onNavigationStateChange" | "scalesPageToFit" | "onDOMHTMLDimensions">> & {
    webshellDebug: boolean | undefined;
    onDOMHTMLDimensions: (htmlDimensions: HTMLDimensions) => void;
    style: StyleProp<ViewStyle>;
    scalesPageToFit: boolean;
    showsVerticalScrollIndicator: boolean;
    disableScrollViewPanResponder: boolean;
    webshellAnimatedHeight: any;
};

// @public
export interface VisualViewportDimensions {
    isLegacy: boolean;
    scale: number;
    visualViewport: Dimensions;
}

// @public
export interface WebjsContext<O extends {}, P> {
    error(message: string): void;
    // (undocumented)
    extractNumericValueFromPixelString(style: string): number;
    getDOMSelection(selector: DOMElementRequest, isCollection: false): HTMLElement;
    // Warning: (ae-forgotten-export) The symbol "DOMCollectionRequest" needs to be exported by the entry point index.d.ts
    // Warning: (ae-forgotten-export) The symbol "HTMLCollection" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    getDOMSelection(selector: DOMCollectionRequest, isCollection: true): HTMLCollection;
    makeCallbackSafe<T extends Function>(callback: T): T;
    readonly options: O;
    postMessage(payload: P): void;
    warn(message: string): void;
}

// @public
export type WebshellAssembledProps<F> = F extends AssembledFeature<{}, {}, infer P> ? P : never;

// Warning: (ae-forgotten-export) The symbol "WebshellComponent" needs to be exported by the entry point index.d.ts
//
// @public
export type WebshellComponentOf<C extends ComponentType<any>, F extends Feature<any, any, any>[]> = WebshellComponent<C, AssembledFeatureOf<F[number]>[]>;

// @public
export interface WebshellInvariantProps {
    onDOMError?: (featureIdentifier: string, error: string) => void;
    webshellAnimatedHeight?: Animated.Value | null;
    webshellDebug?: boolean;
}

// @public
export type WebshellProps<W extends MinimalWebViewProps, F extends AssembledFeature<{}, {}, {}>[]> = WebshellInvariantProps & W & (F[number] extends never ? {} : WebshellAssembledProps<F[number]>);


// (No @packageDocumentation comment for this package)

```
